<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Quản Lý Blog - Admin</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
    <div class="container">
        <a class="navbar-brand" href="#">Admin Panel</a>
        <div class="collapse navbar-collapse">
            <ul class="navbar-nav ms-auto">
                <li class="nav-item"><a class="nav-link" href="index.html">Trang Chủ</a></li>
                <li class="nav-item"><a class="nav-link" href="admin.html">Quản Lý Sản Phẩm</a></li>
                <li class="nav-item"><a class="nav-link active" href="admin_blog.html">Quản Lý Blog</a></li>
            </ul>
        </div>
    </div>
    </nav>

    <!-- Quản lý blog -->
    <div class="container mt-5">
        <h2 class="text-center">Quản Lý Bài Viết Blog</h2>

        <!-- Form Thêm Bài Viết -->
        <div class="mb-3">
            <input type="text" id="blogTitle" class="form-control" placeholder="Tiêu đề bài viết">
            <input type="date" id="blogDate" class="form-control mt-2">
            <input type="text" id="blogImage" class="form-control mt-2" placeholder="URL hình ảnh">
            <textarea id="blogContent" class="form-control mt-2" rows="4" placeholder="Nội dung bài viết"></textarea>
            <button class="btn btn-success mt-2" onclick="addBlogPost()">Thêm Bài Viết</button>
        </div>

        <!-- Danh sách bài viết -->
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>Tiêu đề</th>
                    <th>Ngày đăng</th>
                    <th>Hình ảnh</th>
                    <th>Hành động</th>
                </tr>
            </thead>
            <tbody id="adminBlogList">
                <!-- Danh sách bài viết sẽ hiển thị ở đây -->
            </tbody>
        </table>
    </div>

    <script>
        function loadBlogPosts() {
            const posts = JSON.parse(localStorage.getItem('blogPosts')) || [];
            displayAdminBlogPosts(posts);
        }

        function displayAdminBlogPosts(posts) {
            const adminBlogList = document.getElementById('adminBlogList');
            adminBlogList.innerHTML = '';
            posts.forEach((post, index) => {
                adminBlogList.innerHTML += `
                    <tr>
                        <td>${post.title}</td>
                        <td>${post.date}</td>
                        <td><img src="${post.image}" width="50"></td>
                        <td>
                            <button class="btn btn-danger" onclick="deleteBlogPost(${index})">Xóa</button>
                        </td>
                    </tr>
                `;
            });
        }

        function addBlogPost() {
            const title = document.getElementById('blogTitle').value;
            const date = document.getElementById('blogDate').value;
            const image = document.getElementById('blogImage').value;
            const content = document.getElementById('blogContent').value;

            if (!title || !date || !image || !content) {
                alert("Vui lòng nhập đầy đủ thông tin!");
                return;
            }

            const posts = JSON.parse(localStorage.getItem('blogPosts')) || [];
            posts.push({ id: posts.length, title, date, image, content });

            localStorage.setItem('blogPosts', JSON.stringify(posts));
            loadBlogPosts();

            document.getElementById('blogTitle').value = '';
            document.getElementById('blogDate').value = '';
            document.getElementById('blogImage').value = '';
            document.getElementById('blogContent').value = '';
        }

        function deleteBlogPost(index) {
            const posts = JSON.parse(localStorage.getItem('blogPosts')) || [];
            posts.splice(index, 1);
            localStorage.setItem('blogPosts', JSON.stringify(posts));
            loadBlogPosts();
        }

        loadBlogPosts();
    </script>
</body>
</html>
